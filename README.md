# GALAXY-BRAIN

Автоматизированное приложение для получения значка GALAXY-BRAIN в GitHub путем создания обсуждений, ответов на них и отметки ответов как правильных.

## 1. Структура проекта

```
QA/
├── GALAXY-BRAIN.py         # Основной файл приложения
└── user_data.json          # Файл для хранения данных пользователя (токен и путь к репозиторию)
```

## 2. Описание файлов

### GALAXY-BRAIN.py

**Назначение**: Основной файл приложения, содержащий весь код для автоматизации работы с GitHub Discussions. Приложение создает обсуждения, отвечает на них и отмечает ответы как правильные для получения значка GALAXY-BRAIN.

**Ключевые классы:**
- `NoArrowsSpinBox` — кастомный класс для QSpinBox без стрелок
- `GitHubDiscussionsApp` — основной класс приложения, наследующийся от QMainWindow

**Ключевые функции:**
- `__init__()` — инициализация приложения
- `init_ui()` — создание интерфейса
- `create_setup_screen()` — создание экрана настройки
- `create_quiz_screen()` — создание экрана викторины
- `start_quiz_process()` — запуск процесса создания обсуждений
- `create_quiz_discussions()` — создание обсуждений
- `reply_to_quiz_discussions()` — ответ на обсуждения
- `mark_quiz_answers()` — отметка ответов как правильных
- `load_user_data()` / `save_user_data()` — загрузка/сохранение данных пользователя

**Связи с другими файлами:**
- Взаимодействует с файлом `user_data.json` для хранения и загрузки данных пользователя.

**Краткое объяснение логики:**
Приложение использует PyQt6 для создания графического интерфейса с двумя экранами: настройки и создания викторины. На первом экране пользователь вводит токен GitHub и путь к репозиторию, которые проверяются на валидность. На втором экране пользователь может указать количество вопросов и запустить процесс, который автоматически создает обсуждения в категории Q&A, отвечает на них и отмечает ответы как правильные. Весь процесс визуализируется с помощью прогресс-баров.

### user_data.json

**Назначение**: Хранение данных пользователя между запусками приложения.

**Структура:**
```json
{
  "token": "ghp_...",
  "repository": "username/repo"
}
```

**Связи с другими файлами:**
- Используется основным файлом приложения для загрузки и сохранения данных пользователя.

**Краткое объяснение логики:**
Файл создается при первом запуске приложения с предустановленным токеном. При последующих запусках данные загружаются из файла, а при закрытии приложения или изменении данных — сохраняются в файл.

## 3. Архитектура проекта

### Общая структура классов

```
GitHubDiscussionsApp (QMainWindow)
├── config_file: str
├── hardcoded_token: str
├── random_titles: list
├── random_bodies: list
├── ...
│   ├── init_ui()
│   ├── create_setup_screen()
│   ├── create_quiz_screen()
│   ├── ...
└── NoArrowsSpinBox (QSpinBox)
```

### Потоки данных

1. Пользователь вводит токен GitHub и путь к репозиторию
2. Приложение сохраняет эти данные в файл `user_data.json`
3. Приложение использует GitHub API для создания категории Q&A (если она не существует)
4. Приложение создает обсуждения в категории Q&A
5. Приложение отвечает на созданные обсуждения
6. Приложение отмечает ответы как правильные

### Процесс работы (последовательность)

1. Запуск приложения
2. Инициализация `GitHubDiscussionsApp`
3. Загрузка данных пользователя
4. Отображение экрана настройки
5. Валидация репозитория
   - Если успешно — переход к экрану создания викторины
   - Если ошибка — возврат к настройке
6. Запуск процесса
7. Создание категории Q&A (если нужно)
8. Создание вопросов
9. Ответ на вопросы
10. Отметка ответов
11. Завершение процесса

## 4. Библиотеки/фреймворки

| Библиотека | Назначение | Где используется |
|------------|------------|------------------|
| PyQt6 | Создание графического интерфейса | Весь интерфейс приложения |
| requests | Отправка HTTP-запросов | Взаимодействие с GitHub API |
| json | Работа с JSON-данными | Сохранение/загрузка данных пользователя, работа с ответами API |
| os | Работа с файловой системой | Проверка существования файла конфигурации |
| random | Генерация случайных значений | Выбор случайных заголовков и текстов для обсуждений |
| sys | Системные функции | Запуск и завершение приложения |

## 5. Точка входа и запуск

Приложение запускается из файла `GALAXY-BRAIN.py`. Точка входа находится в конце файла:

```python
if __name__ == '__main__':
    app = QApplication(sys.argv)
    window = GitHubDiscussionsApp()
    window.show()
    sys.exit(app.exec())
```

Последовательность запуска:
1. Создается экземпляр `QApplication`
2. Создается экземпляр `GitHubDiscussionsApp`
3. Отображается главное окно приложения
4. Запускается цикл обработки событий

## 6. Архитектурные особенности

### Нестандартные решения

1. **Единый файл для всего приложения** — Все компоненты приложения (интерфейс, логика работы с API, хранение данных) объединены в одном файле, что упрощает распространение и установку.
2. **Использование GraphQL API GitHub** — Вместо REST API используется GraphQL API, что позволяет получать только нужные данные и уменьшает количество запросов.
3. **Прогресс-бары для визуализации процесса** — Использование прогресс-баров для наглядного отображения прогресса выполнения каждого этапа.
4. **Хранение данных пользователя** — Сохранение токена и пути к репозиторию в файле для удобства повторного использования.
5. **Случайные заголовки и тексты** — Использование предопределённых случайных заголовков и текстов для создания обсуждений, что делает их более естественными.

### Причины выбора архитектуры

1. **Простота использования** — Приложение должно быть простым в использовании, поэтому был выбран подход с минимальным количеством экранов и настроек.
2. **Минимальные зависимости** — Приложение использует только необходимые библиотеки, что упрощает его установку и использование.
3. **Автоматизация рутинных действий** — Цель приложения — автоматизировать получение значка GALAXY-BRAIN, поэтому все действия выполняются автоматически после указания необходимых параметров.
4. **Визуальная обратная связь** — Использование прогресс-баров и статусных иконок для наглядного отображения прогресса выполнения каждого этапа.
5. **Темный интерфейс** — Использование темной темы для уменьшения нагрузки на глаза пользователя при длительной работе с приложением.

## 7. Инструкция по использованию

1. Запустите приложение `GALAXY-BRAIN.py`
2. На экране настройки введите:
   - Путь к репозиторию в формате `username/repo`
   - Токен GitHub с правами на создание обсуждений
3. Нажмите кнопку "Продолжить"
4. На экране создания викторины:
   - Укажите количество вопросов (от 1 до 100)
   - Нажмите кнопку "Начать"
5. Дождитесь завершения всех трех этапов:
   - Создание вопросов
   - Ответ на вопросы
   - Подтверждение ответов
6. После успешного завершения вы получите значок GALAXY-BRAIN в своем профиле GitHub

## 8. Требования

- Python 3.6 или выше
- PyQt6
- Requests
- Доступ к интернету
- Токен GitHub с правами на создание обсуждений
- Репозиторий с включенной функцией Discussions 
